<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Signal Hound BB API: Sweep Mode</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="spike.png"/></td>
  <td id="projectalign">
   <div id="projectname">Signal Hound BB API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Sweep Mode </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md34">Sweep Format</a></li>
<li class="level1"><a href="#autotoc_md35">Min and Max Sweep Arrays</a></li>
<li class="level1"><a href="#autotoc_md36">Blocking vs. Queued Sweep Acquisition</a></li>
<li class="level1"><a href="#autotoc_md37">Sweep Speed</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md_C__Users_Roger_Documents_Dev_Checkout_BB_API_docs_page_sweep_mode"></a></p>
<p >Swept spectrum analysis represents the common spectrum analyzer measurement of plotting amplitude over frequency. In this measurement mode, the API returns sweeps from the receiver. The API provides a simple interface through smGetSweep for acquiring single sweeps, or for high throughput sweep measurements, the smStartSweep / smFinishSweep functions. Both the sweep format and acquisition methods are described below. Only 1 sweep configuration can be active at a time. Changing any sweep parameter requires reconfiguring the device with a new sweep configuration.</p>
<h1><a class="anchor" id="autotoc_md34"></a>
Sweep Format</h1>
<p >Sweeps are returned from the API as 1-dimensional arrays of power values. Each array element corresponds to a specific frequency. The frequency of any given can be calculated as</p>
<p >&lsquo;Frequency of N^&rsquo; th sample in sweep=StartFreq+N*BinSize`</p>
<p >where <code>StartFreq</code> and <code>BinSize</code> are reported in the #smGetSweepParameters function.</p>
<h1><a class="anchor" id="autotoc_md35"></a>
Min and Max Sweep Arrays</h1>
<p >Several functions in the SM API return two arrays for sweeps. They are typically named sweepMin and sweepMax. To understand the purpose of these arrays, it is important to understand their relation to the analyzer’s detector setting. Traditionally, spectrum analyzers offer several detector settings, the most common being peak-, peak+, and average. The SM API reduces this to either min-max or average. When the detector is set to min-max, the sweepMin array will contain the sweep as if a peak- detector is running, and the sweepMax array will contain the sweep of a peak+ detector. When average detector is enabled, sweepMin and sweepMax will be identical arrays.</p>
<p >Sweeps are returned for swept analysis and real-time spectrum analysis. Generally, if you are not interested in either the min or max sweep, simply passing a NULL pointer for this parameter will tell the API you wish to ignore this sweep.</p>
<p >Most API users will only be interested in the sweepMax array as this will provide peak+ and average detector results. (pass NULL to the sweepMin array parameter)</p>
<h1><a class="anchor" id="autotoc_md36"></a>
Blocking vs. Queued Sweep Acquisition</h1>
<p >The simple method of acquiring sweeps is to use the smGetSweep function. This function starts a sweep and blocks until the sweep is completed. This is adequate for most types of measurements but does not optimize for receiver sweep speed. USB latency can be very large compared to total acquisition/processing time. To eliminate USB latency, you will need to take advantage of the API sweep queuing mechanisms.</p>
<p >The sweep start/finish function provide a way to eliminate USB latencies between sweeps which allows the device to sustain the full sweep speed throughput. Using the #smStartSweep/#smFinishSweep functions you can start up to ‘N’ sweeps which ensures the receiver is continuously acquiring data for the next sweep. Using a circular buffer approach, you can ensure that there is no down time in sweep acquisition. See an example of this in the provided code examples.</p>
<p >Note: When using the blocking #smGetSweep function, the API utilizes the queued start/finish functions with a sweep index of zero (0). This means that if you want to mix the blocking and queue sweep acquisitions, avoid using index zero for queued sweeps.</p>
<h1><a class="anchor" id="autotoc_md37"></a>
Sweep Speed</h1>
<p >This sweep speed is related to the parameter set in smSetSweepSpeed. See the description for smSetSweepSpeed for more information.</p>
<p >The SM has 3 sweeps speeds depending on the user’s configuration. The sweep speed is primarily set by the user explicitly, except in a few cases. The user can also configure the API to automatically choose the fastest sweep speed. The sweep speeds are described below.</p>
<ul>
<li>Slow/Narrow – For spans below 5MHz, the API will perform sweeps in a way to achieve lower RBW/VBWs. The sweep is accomplished by dwelling at a LO frequency. This is necessary for the low RBWs that accompany the narrow spans. The API will use this sweep speed below 5 MHz regardless of the users sweep speed selection.</li>
<li>Normal – At this speed the SM steps the LO in 39.0625MHz steps. This mode offers better RF performance than fast sweep mode, with a sweep speed reduction of about 3X.</li>
<li>Fast – At this speed, the SM steps the LO in 156.25MHz steps to accomplish up to a 1THz sweep speed. There are additional restrictions that hold when utilizing the fast sweep. The max FFT size is 16K which limits RBW to about 30-60kHz depending on the spectrum window selected. Additionally, VBW and sweep time are not selectable when measuring at the fast sweep rate. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
