<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BB API: Theory of Operation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="sh-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">BB API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Theory of Operation </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md30">Opening a Device</a></li>
<li class="level1"><a href="#autotoc_md31">Configuring the Device</a></li>
<li class="level1"><a href="#autotoc_md32">Acquiring Measurement Data</a></li>
<li class="level1"><a href="#autotoc_md33">Stopping the Measurements</a></li>
<li class="level1"><a href="#autotoc_md34">Closing the Device</a></li>
<li class="level1"><a href="#autotoc_md35">Recalibration</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md_C__Users_Roger_Documents_Dev_Checkout_BB_API_docs_page_theory_of_operation"></a></p>
<p >Any application using the BB60 API will follow these steps to perform measurements with a device:</p>
<ol type="1">
<li>Open a device and receive a handle to the device resources.</li>
<li>Configure the device.</li>
<li>Acquire measurement data.</li>
<li>Stop acquisitions and abort the current measurement.</li>
<li>Repeat steps 2-5 for further measurements if desired.</li>
<li>Close the device.</li>
<li>(Recalibration)</li>
</ol>
<p >The API provides functions for each step in this process. Each step is described in more detail below.</p>
<h1><a class="anchor" id="autotoc_md30"></a>
Opening a Device</h1>
<p >Before opening a BB60, the device must be connected to the PC using the USB 3.0 cable, and the front panel LED should be solid green (or solid red to indicate a BB60D on standby). The <a class="el" href="bb__api_8h.html#ab92ec1dec31d08f9a77d6ab057f4dd07">bbOpenDevice</a> function will attempt to open the device, and if successful return an integer handle that can be used to interface the device for the remainder of your program.</p>
<p >You can either have the API open the first valid BB60 device found on the system or specify the serial number of the device you wish to open. Get a list of all devices connected to the system using the <a class="el" href="bb__api_8h.html#a572ab303e84a8cc4f882ee1304e81ce7">bbGetSerialNumberList</a> function.</p>
<p >Up to 8 devices may be connected to the API.</p>
<h1><a class="anchor" id="autotoc_md31"></a>
Configuring the Device</h1>
<p >Once the device is open, the next step is to configure the device for a measurement. The available measurement modes are swept analysis, real-time analysis, I/Q streaming, and scalar network analysis using a Signal Hound tracking generator. Each mode has specific configurations routines, which set a temporary configuration state. Once all configuration routines have been called, calling the <a class="el" href="bb__api_8h.html#a94837e7f5ac6882499f46db29bbc0427">bbInitiate</a> function copies the temporary configuration state into the active measurement state and the device is ready for measurements. The provided code examples showcase how to configure the device for each measurement mode.</p>
<h1><a class="anchor" id="autotoc_md32"></a>
Acquiring Measurement Data</h1>
<p >After the device has been successfully configured, the API provides several functions for acquiring measurements. Only certain measurements are available depending on the active measurement mode. For example, I/Q data acquisition is not available when the device is in a sweep measurement mode. See the provided examples in the SDK.</p>
<h1><a class="anchor" id="autotoc_md33"></a>
Stopping the Measurements</h1>
<p >Stopping all measurements is achieved through the <a class="el" href="bb__api_8h.html#a6dc895bf3e792c37ee5dbddf37166bb5">bbAbort</a> function. This causes the device to cancel or finish any pending operations and return to an idle state. Calling <a class="el" href="bb__api_8h.html#a6dc895bf3e792c37ee5dbddf37166bb5">bbAbort</a> is never required, as it is called by default if you attempt to change the measurement mode or close the device, but it can be useful to do this.</p>
<ul>
<li>Certain measurement modes can consume large amounts of resources such as memory and CPU usage. Returning to an idle state will free those resources.</li>
<li>Returning to an idle state will help reduce power consumption.</li>
</ul>
<h1><a class="anchor" id="autotoc_md34"></a>
Closing the Device</h1>
<p >When finished making measurements, you can close the device and free all resources related to the device with the <a class="el" href="bb__api_8h.html#ac19bb704f9607149f4a8cb9d725f5d1c">bbCloseDevice</a> function. Once closed, the device will appear in the open device list again. It is possible to open and close a device multiple times during the execution of a program.</p>
<h1><a class="anchor" id="autotoc_md35"></a>
Recalibration</h1>
<p >Calibration is an important part of the device’s operation. The device is temperature sensitive, and it is important a device is re-calibrated when significant temperature shifts occur (+/- 2 °C). Signal Hound spectrum analyzers are streaming devices and as such cannot automatically calibrate itself without interrupting operation/communication (which may be undesirable). Therefore, we leave calibration to the programmer. The API provides two functions for assisting with live calibration, <a class="el" href="bb__api_8h.html#ab81b4d3a8daefedbdcda2340d176c8e4">bbGetDeviceDiagnostics</a> and <a class="el" href="bb__api_8h.html#a636fdff049dd34e05fa7f5a837eb904f">bbSelfCal</a>. <a class="el" href="bb__api_8h.html#ab81b4d3a8daefedbdcda2340d176c8e4">bbGetDeviceDiagnostics</a> can be used to retrieve the internal device temperature at any time after the device has been opened. If the device ever deviates from its temperature by 2 degrees Celcius or more, we suggest calling <a class="el" href="bb__api_8h.html#a636fdff049dd34e05fa7f5a837eb904f">bbSelfCal</a>. Calling <a class="el" href="bb__api_8h.html#a636fdff049dd34e05fa7f5a837eb904f">bbSelfCal</a> requires the device be open and idle. After a self-calibration occurs, the global device state is undefined. It is necessary to reconfigure the device before continuing operation. One self-calibration is performed upon opening the device.</p>
<p >Note: The BB60C and BB60D do not require the use of <a class="el" href="bb__api_8h.html#a636fdff049dd34e05fa7f5a837eb904f">bbSelfCal</a> for device calibration. Instead, if the device deviates in temperature, simply call <a class="el" href="bb__api_8h.html#a94837e7f5ac6882499f46db29bbc0427">bbInitiate</a> again which will re-calibrate the device at its current operating temperature. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
